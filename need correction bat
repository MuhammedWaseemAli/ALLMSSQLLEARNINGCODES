@echo off
setlocal EnableExtensions EnableDelayedExpansion

REM =========================================================
REM VENV (EDIT THIS PATH LATER IF YOU MOVE YOUR VENV)
REM =========================================================
call C:\Users\wasee\venv\Scripts\activate

REM =========================================================
REM PYTHON FILE (EDIT THIS IF YOU MOVE/RENAME THE SCRIPT)
REM =========================================================
set "PYFILE=C:\Users\wasee\OneDrive\Documents\automatic\automatic everylogic.py"

echo.
echo ==========================================
echo  AUTO TRANSFER DRIVER (.BAT) - ALL MODES
echo  - MODE 1 ACTIVE
echo  - Modes 2/3/4 below (commented for you)
echo ==========================================
echo.

REM ###########################################################################
REM ## MODE 1 (ACTIVE): ALL COLUMNS + ALL ROWS
REM ## - No column picking prompt (send blank line)
REM ## - No WHERE filter (send 1 = All rows)
REM ## EDIT THESE DUMMY VALUES ONLY:
REM ##   PROFILE, OBJECT_TYPE, OBJECT_NAME, SRC_AUTH, DEST_AUTH
REM ##   If using SQL Auth, set SRC_PASS/DEST_PASS and flip *_AUTH to 2
REM ###########################################################################
set "PROFILE=1"
set "OBJECT_TYPE=1"
set "OBJECT_NAME=YourTableName"

set "SRC_AUTH=1"
set "SRC_PASS=dummypwd"
set "DEST_AUTH=1"
set "DEST_PASS=dummypwd"

set "TMP1=%TEMP%\transfer_inputs_MODE1.txt"
echo Building inputs for MODE 1 [%TMP1%]...

> "%TMP1%" (
  echo %PROFILE%
  echo %OBJECT_TYPE%
  echo %OBJECT_NAME%
  echo %SRC_AUTH%
)
if "%SRC_AUTH%"=="2" (>> "%TMP1%" echo %SRC_PASS%)
>> "%TMP1%" echo %DEST_AUTH%
if "%DEST_AUTH%"=="2" (>> "%TMP1%" echo %DEST_PASS%)
>> "%TMP1%" echo.
>> "%TMP1%" echo 1

echo Running MODE 1 (All columns + All rows)...
python "%PYFILE%" < "%TMP1%"
echo MODE 1 finished.
goto end


REM =======================================================================
REM ===== MODE 2 (COMMENTED): ALL COLUMNS + CUSTOM WHERE FILTER
REM ===== How to use:
REM ===== 1) Comment out MODE 1 above (add REM to each line)
REM ===== 2) Uncomment this entire MODE 2 block (remove leading REM)
REM ===== 3) Edit PROFILE / OBJECT_TYPE / OBJECT_NAME / AUTH, etc.
REM ===== 4) Edit the filter conditions at the bottom:
REM =====    - Provide column number (empty to stop)
REM =====    - Provide Operator (=, !=, >, <, >=, <=, IN)
REM =====    - Provide Value
REM =====    - Enter 'y' to add another condition, 'n' to stop
REM ===== NOTE: For >= or <= operators, use >> "%TMP2%" echo ^>= syntax
REM =======================================================================
REM set "PROFILE=1"
REM set "OBJECT_TYPE=1"
REM set "OBJECT_NAME=YourTableName_Filtered"
REM set "SRC_AUTH=1"
REM set "SRC_PASS=dummypwd"
REM set "DEST_AUTH=1"
REM set "DEST_PASS=dummypwd"
REM set "TMP2=%TEMP%\transfer_inputs_MODE2.txt"
REM echo Building inputs for MODE 2 [%TMP2%]...
REM > "%TMP2%" (
REM   echo %PROFILE%
REM   echo %OBJECT_TYPE%
REM   echo %OBJECT_NAME%
REM   echo %SRC_AUTH%
REM )
REM if "%SRC_AUTH%"=="2" (>> "%TMP2%" echo %SRC_PASS%)
REM >> "%TMP2%" echo %DEST_AUTH%
REM if "%DEST_AUTH%"=="2" (>> "%TMP2%" echo %DEST_PASS%)
REM >> "%TMP2%" echo.
REM >> "%TMP2%" echo 2
REM REM ---- Condition #1: Country = 'India' ----
REM >> "%TMP2%" echo 2
REM >> "%TMP2%" echo =
REM >> "%TMP2%" echo India
REM >> "%TMP2%" echo y
REM REM ---- Condition #2: City IN ('Delhi','Mumbai','Chennai') ----
REM >> "%TMP2%" echo 3
REM >> "%TMP2%" echo IN
REM >> "%TMP2%" echo Delhi,Mumbai,Chennai
REM >> "%TMP2%" echo n
REM echo Running MODE 2 (All columns + WHERE filter)...
REM python "%PYFILE%" < "%TMP2%"
REM echo MODE 2 finished.
REM goto end


REM =======================================================================
REM ===== MODE 3 (COMMENTED): SELECTED COLUMNS + ALL ROWS
REM ===== How to use:
REM ===== 1) Comment out MODE 1 above (add REM to each line)
REM ===== 2) Uncomment this entire MODE 3 block (remove leading REM)
REM ===== 3) Edit the "COLUMNS=" line with numbers from the script output
REM =====    Example: COLUMNS=1,2,5,8  (comma separated, no spaces needed)
REM =======================================================================
REM set "PROFILE=1"
REM set "OBJECT_TYPE=1"
REM set "OBJECT_NAME=YourTableName_SelectedCols"
REM set "SRC_AUTH=1"
REM set "SRC_PASS=dummypwd"
REM set "DEST_AUTH=1"
REM set "DEST_PASS=dummypwd"
REM set "COLUMNS=1,2,5,8"
REM set "TMP3=%TEMP%\transfer_inputs_MODE3.txt"
REM echo Building inputs for MODE 3 [%TMP3%]...
REM > "%TMP3%" (
REM   echo %PROFILE%
REM   echo %OBJECT_TYPE%
REM   echo %OBJECT_NAME%
REM   echo %SRC_AUTH%
REM )
REM if "%SRC_AUTH%"=="2" (>> "%TMP3%" echo %SRC_PASS%)
REM >> "%TMP3%" echo %DEST_AUTH%
REM if "%DEST_AUTH%"=="2" (>> "%TMP3%" echo %DEST_PASS%)
REM >> "%TMP3%" echo %COLUMNS%
REM >> "%TMP3%" echo 1
REM echo Running MODE 3 (Selected columns + All rows)...
REM python "%PYFILE%" < "%TMP3%"
REM echo MODE 3 finished.
REM goto end


REM =======================================================================
REM ===== MODE 4 (COMMENTED): SELECTED COLUMNS + WITH FILTER
REM ===== How to use:
REM ===== 1) Comment out MODE 1 above (add REM to each line)
REM ===== 2) Uncomment this entire MODE 4 block (remove leading REM)
REM ===== 3) Edit COLUMNS= and the WHERE conditions as needed
REM ===== Tips for operators >= or <=:
REM =====    Use: >> "%TMP4%" echo ^>=
REM =====    Use: >> "%TMP4%" echo ^<=
REM =======================================================================
REM set "PROFILE=1"
REM set "OBJECT_TYPE=1"
REM set "OBJECT_NAME=YourTableName_SelectedCols_Filtered"
REM set "SRC_AUTH=1"
REM set "SRC_PASS=dummypwd"
REM set "DEST_AUTH=1"
REM set "DEST_PASS=dummypwd"
REM set "COLUMNS=1,3,4"
REM set "TMP4=%TEMP%\transfer_inputs_MODE4.txt"
REM echo Building inputs for MODE 4 [%TMP4%]...
REM > "%TMP4%" (
REM   echo %PROFILE%
REM   echo %OBJECT_TYPE%
REM   echo %OBJECT_NAME%
REM   echo %SRC_AUTH%
REM )
REM if "%SRC_AUTH%"=="2" (>> "%TMP4%" echo %SRC_PASS%)
REM >> "%TMP4%" echo %DEST_AUTH%
REM if "%DEST_AUTH%"=="2" (>> "%TMP4%" echo %DEST_PASS%)
REM >> "%TMP4%" echo %COLUMNS%
REM >> "%TMP4%" echo 2
REM REM ---- Condition #1: Status = 'Active' ----
REM >> "%TMP4%" echo 2
REM >> "%TMP4%" echo =
REM >> "%TMP4%" echo Active
REM >> "%TMP4%" echo y
REM REM ---- Condition #2: ID >= 1000 (note the ^>= escape) ----
REM >> "%TMP4%" echo 5
REM >> "%TMP4%" echo ^>=
REM >> "%TMP4%" echo 1000
REM >> "%TMP4%" echo y
REM REM ---- Condition #3: Category IN ('A','B','C') ----
REM >> "%TMP4%" echo 6
REM >> "%TMP4%" echo IN
REM >> "%TMP4%" echo A,B,C
REM >> "%TMP4%" echo n
REM echo Running MODE 4 (Selected columns + WHERE filter)...
REM python "%PYFILE%" < "%TMP4%"
REM echo MODE 4 finished.
REM goto end


:end
echo.
echo All done (current active mode completed).
echo.
pause




#other version
